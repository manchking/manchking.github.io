{"version":3,"sources":["imgs/remove.png","AddItemsForm.js","ShoppingCart.js","App.js","index.js"],"names":["module","exports","AddItemsForm","props","state","name","price","quantity","handleChange","bind","event","value","item","target","replace","this","setState","type","placeholder","onChange","onClick","addItem","clrState","Component","ShoppingCart","shoppingCartItems","shoppingCartData","cartItems","productsImgs","productsImgsData","imgs","changeQuantity","delItem","bool","index","items","ShoppingCartItems","splice","newItem","isEmpty","isDouble","key","forEach","elem","alert","img","Math","floor","random","length","newArr","className","src","alt","ic_remove","totalPrice","map","drawItem","colSpan","App","ReactDOM","render","document","getElementById"],"mappings":"igFAAAA,EAAOC,QAAU,IAA0B,oC,8NCiF5BC,E,YA9Eb,WAAYC,GAAO,IAAD,8BAChB,4CAAMA,KACDC,MAAQ,CACXC,KAAM,GACNC,MAAO,GACPC,SAAU,IAGZ,EAAKC,aAAe,EAAKA,aAAaC,KAAlB,gBARJ,E,0EAWLC,GACX,IACIC,EADAC,EAAO,GAEe,UAAtBF,EAAMG,OAAOR,MAA0C,aAAtBK,EAAMG,OAAOR,OAChDM,EAAQD,EAAMG,OAAOF,MAAMG,QAAQ,KAAM,KAEjB,SAAtBJ,EAAMG,OAAOR,OACfM,EAAQD,EAAMG,OAAOF,MAAMG,QAAQ,sDAAyB,KAE9DF,EAAKF,EAAMG,OAAOR,MAAQM,EAC1BI,KAAKC,SAASJ,K,iCAIdG,KAAKC,SAAS,CAACX,KAAM,GAAIC,MAAO,GAAIC,SAAU,O,+BAGvC,IAAD,OACN,OACE,6BACE,yDACA,8BACE,uCAEE,2BACEU,KAAK,OACLZ,KAAK,OACLa,YAAY,mDACZP,MAAOI,KAAKX,MAAMC,KAClBc,SAAUJ,KAAKP,gBAInB,wCAEE,2BACES,KAAK,OACLZ,KAAK,QACLa,YAAY,2BACZP,MAAOI,KAAKX,MAAME,MAClBa,SAAUJ,KAAKP,gBAInB,2CAEE,2BACES,KAAK,OACLZ,KAAK,WACLa,YAAY,+DACZP,MAAOI,KAAKX,MAAMG,SAClBY,SAAUJ,KAAKP,gBAInB,2BACES,KAAK,SACLN,MAAM,WACNS,QAAS,SAACR,GAAD,OAAU,EAAKT,MAAMkB,QAAQ,EAAKjB,OAAO,kBAAM,EAAKkB,uB,GAtE9CC,a,iBCmGZC,E,YA7Fb,WAAYrB,GAAO,IAAD,8BAChB,4CAAMA,KACDC,MAAQ,CACXqB,kBAAmBC,EAAiBC,UACpCC,aAAcC,EAAiBC,MAEjC,EAAKT,QAAU,EAAKA,QAAQZ,KAAb,gBACf,EAAKsB,eAAiB,EAAKA,eAAetB,KAApB,gBACtB,EAAKuB,QAAU,EAAKA,QAAQvB,KAAb,gBARC,E,4EAWHwB,EAAMC,EAAOC,IACd,IAATF,EACDlB,KAAKC,SAAS,CAACoB,kBAAmBD,EAAMD,GAAO3B,aAE3CQ,KAAKX,MAAMqB,kBAAkBS,GAAO3B,SAAW,GAAGQ,KAAKC,SAAS,CAACoB,kBAAmBD,EAAMD,GAAO3B,e,8BAIjG2B,EAAOC,GACbpB,KAAKC,SAAS,CAACoB,kBAAmBD,EAAME,OAAOH,EAAO,O,8BAGhDtB,EAAMU,GACZ,IAAIgB,EAAU1B,EACV2B,GAAU,EACVC,GAAW,EACf,IAAK,IAAIC,KAAOH,EACO,KAAjBA,EAAQG,GACVF,GAAU,EAEVxB,KAAKX,MAAMqB,kBAAkBiB,SAAQ,SAAAC,GAAI,OACvCA,EAAKtC,OAASiC,EAAQjC,KAAMmC,GAAW,EAAO,QAGpD,IAAgB,IAAZD,EACFK,MAAM,8JACD,IAAiB,IAAbJ,EACTI,MAAM,oNACF,CACJhC,EAAKiC,IAAMhB,EAAiBC,KAAKgB,KAAKC,MAAMD,KAAKE,SAAWnB,EAAiBC,KAAKmB,SAClF,IAAIC,EAASnC,KAAKX,MAAMqB,kBACxByB,EAAOb,OAAO,EAAG,EAAGC,GACpBvB,KAAKC,SAAS,CAACS,kBAAmByB,IAClC5B,O,+BAIKa,EAAOvB,EAAMsB,GAAO,IAAD,OAC1B,OACE,wBAAIO,IAAK7B,EAAKP,MACZ,wBAAI8C,UAAU,cAAa,yBAAKC,IAAKxC,EAAKiC,IAAKQ,IAAI,iBACnD,4BAAKzC,EAAKP,MACV,4BAAKO,EAAKN,OACV,4BACE,uBAAG6C,UAAU,OAAO/B,QAAS,kBAAM,EAAKW,gBAAe,EAAMG,EAAOC,KAApE,KACA,2BAAIvB,EAAKL,UACT,uBAAG4C,UAAU,QAAQ/B,QAAS,kBAAM,EAAKW,gBAAe,EAAOG,EAAOC,KAAtE,MAEF,4BAAKvB,EAAKN,MAAQM,EAAKL,UACvB,4BACE,uBAAG4C,UAAU,MAAM/B,QAAS,kBAAM,EAAKY,QAAQE,EAAOC,KACpD,yBAAKiB,IAAKE,IAAWD,IAAI,gB,+BAO1B,IAAD,OACAlB,EAAQpB,KAAKX,MAAMqB,kBACrB8B,EAAa,EAEjB,OADApB,EAAMqB,KAAI,SAAA5C,GAAI,OAAI2C,GAAc3C,EAAKN,MAAQM,EAAKL,YAEhD,6BACE,6CACA,+BACE,+BACE,4BAAI,kGAAoB,gFAAiB,wDAAa,4FAAmB,8DAAc,8BACpF4B,EAAMqB,KAAI,SAAC5C,EAAMsB,GAAP,OAAiB,EAAKuB,SAAStB,EAAOvB,EAAMsB,MAEzD,4BACE,wBAAIwB,QAAQ,MACZ,wBAAIA,QAAQ,KAAZ,+EAAiCH,MAIvC,kBAAC,EAAD,CAAclC,QAASN,KAAKM,e,GAxFTE,aCKZoC,MANf,WACE,OACE,kBAAC,EAAD,OCHJC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.8d5664be.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/remove.e2753e63.png\";","import React, {Component} from 'react';\r\n\r\nclass AddItemsForm extends Component{\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n      name: \"\",\r\n      price: \"\",\r\n      quantity: \"\"\r\n    }\r\n\r\n    this.handleChange = this.handleChange.bind(this)\r\n  }\r\n\r\n  handleChange(event) {\r\n    let item = {}\r\n    let value\r\n    if (event.target.name === \"price\" || event.target.name === \"quantity\") {\r\n      value = event.target.value.replace(/\\D/, '')\r\n    }\r\n    if (event.target.name === \"name\") {\r\n      value = event.target.value.replace(/[^a-zA-Zа-яА-ЯёЁ0-9 ]/, '')\r\n    }\r\n    item[event.target.name] = value\r\n    this.setState(item)\r\n  }\r\n\r\n  clrState(){\r\n    this.setState({name: \"\", price: \"\", quantity: \"\"})\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <div>\r\n        <h2>ADD ITEM TO SHOPPING CART</h2>\r\n        <form>\r\n          <label>\r\n            Name:\r\n            <input \r\n              type=\"text\" \r\n              name=\"name\" \r\n              placeholder=\"Название\" \r\n              value={this.state.name} \r\n              onChange={this.handleChange}>\r\n            </input>\r\n          </label>\r\n\r\n          <label>\r\n            Price:\r\n            <input \r\n              type=\"text\" \r\n              name=\"price\" \r\n              placeholder=\"Цена\" \r\n              value={this.state.price} \r\n              onChange={this.handleChange}>\r\n            </input>\r\n          </label>\r\n\r\n          <label>\r\n            Quantity:\r\n            <input \r\n              type=\"text\" \r\n              name=\"quantity\" \r\n              placeholder=\"Количество\" \r\n              value={this.state.quantity} \r\n              onChange={this.handleChange}>\r\n            </input>\r\n          </label>\r\n\r\n          <input\r\n            type=\"button\" \r\n            value=\"ADD ITEM\" \r\n            onClick={(item) => this.props.addItem(this.state, () => this.clrState())}>\r\n          </input>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nexport default AddItemsForm;","import React, {Component} from 'react';\r\nimport shoppingCartData from './shoppingCartData.json';\r\nimport productsImgsData from './productsImgs.json'\r\nimport AddItemsForm from './AddItemsForm';\r\nimport './ShoppingCart.css'\r\nimport ic_remove from './imgs/remove.png'\r\n\r\nclass ShoppingCart extends Component {\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n      shoppingCartItems: shoppingCartData.cartItems,\r\n      productsImgs: productsImgsData.imgs\r\n    }\r\n    this.addItem = this.addItem.bind(this)\r\n    this.changeQuantity = this.changeQuantity.bind(this)\r\n    this.delItem = this.delItem.bind(this)\r\n  }\r\n\r\n  changeQuantity(bool, index, items){\r\n    if(bool === true){\r\n      this.setState({ShoppingCartItems: items[index].quantity++})\r\n    } else{\r\n      if (this.state.shoppingCartItems[index].quantity > 1) this.setState({ShoppingCartItems: items[index].quantity--})\r\n    }\r\n  }\r\n\r\n  delItem(index, items){\r\n    this.setState({ShoppingCartItems: items.splice(index, 1)})\r\n  }\r\n\r\n  addItem(item, clrState){\r\n    let newItem = item\r\n    let isEmpty = false\r\n    let isDouble = false\r\n    for (let key in newItem){\r\n      if (newItem[key] === \"\"){\r\n        isEmpty = true\r\n      } else {\r\n        this.state.shoppingCartItems.forEach(elem => \r\n          elem.name === newItem.name? isDouble = true : null)\r\n      }\r\n    }\r\n    if (isEmpty === true) {\r\n      alert(\"Не все поля товара заполнены!\")\r\n    } else if (isDouble === true){\r\n      alert(\"Товар с таким названием уже существует!\")\r\n    } else{\r\n      item.img = productsImgsData.imgs[Math.floor(Math.random() * productsImgsData.imgs.length)]\r\n      let newArr = this.state.shoppingCartItems\r\n      newArr.splice(0, 0, newItem)\r\n      this.setState({shoppingCartItems: newArr})\r\n      clrState()\r\n    }\r\n  }\r\n\r\n  drawItem(items, item, index){\r\n    return(\r\n      <tr key={item.name}>\r\n        <td className=\"productImg\"><img src={item.img} alt=\"product img\"/></td>\r\n        <td>{item.name}</td>\r\n        <td>{item.price}</td>\r\n        <td>\r\n          <p className=\"plus\" onClick={() => this.changeQuantity(true, index, items)}>+</p>\r\n          <p>{item.quantity}</p>\r\n          <p className=\"minus\" onClick={() => this.changeQuantity(false, index, items)}>-</p>\r\n        </td>\r\n        <td>{item.price * item.quantity}</td>\r\n        <td>\r\n          <p className=\"del\" onClick={() => this.delItem(index, items)}>\r\n            <img src={ic_remove} alt=\"DELETE\"/>\r\n          </p>\r\n        </td>\r\n      </tr>\r\n    )\r\n  }\r\n\r\n  render(){\r\n    const items = this.state.shoppingCartItems\r\n    let totalPrice = 0\r\n    items.map(item => totalPrice += item.price * item.quantity)\r\n    return(\r\n      <div>\r\n        <h1>SHOPPING CART</h1>\r\n        <table>\r\n          <tbody>\r\n            <tr><th>Изображение</th><th>Название</th><th>Цена</th><th>Количество</th><th>Всего</th><th></th></tr>\r\n              {items.map((item, index) => this.drawItem(items, item, index)\r\n            )}\r\n            <tr>\r\n              <td colSpan=\"3\"></td>\r\n              <td colSpan=\"3\">Всего к оплате: {totalPrice}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        <AddItemsForm addItem={this.addItem}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ShoppingCart","import React from 'react';\nimport './App.css';\nimport './ShoppingCart.css'\nimport ShoppingCart from './ShoppingCart';\n\n\nfunction App() {\n  return (\n    <ShoppingCart />\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}
{"version":3,"sources":["imgs/remove.png","AddItemsForm.js","ShoppingCart.js","App.js","index.js"],"names":["module","exports","AddItemsForm","props","state","name","price","quantity","handleChange","bind","event","value","item","target","replace","this","setState","className","type","placeholder","onChange","onClick","addItem","clrState","Component","ShoppingCart","shoppingCartItems","shoppingCartData","cartItems","productsImgs","productsImgsData","imgs","changeQuantity","delItem","bool","index","items","ShoppingCartItems","splice","newItem","isEmpty","isDouble","key","forEach","elem","alert","img","Math","floor","random","length","newArr","src","alt","ic_remove","totalPrice","map","colSpan","drawItem","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.10716998.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/remove.e2753e63.png\";","import React, {Component} from 'react'\r\nimport './css/AddItemsForm.css'\r\n\r\nclass AddItemsForm extends Component{\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n      name: \"\",\r\n      price: \"\",\r\n      quantity: \"\"\r\n    }\r\n\r\n    this.handleChange = this.handleChange.bind(this)\r\n  }\r\n\r\n  handleChange(event) {\r\n    let item = {}\r\n    let value\r\n    if (event.target.name === \"price\" || event.target.name === \"quantity\") {\r\n      value = event.target.value.replace(/\\D/, '')\r\n    }\r\n    if (event.target.name === \"name\") {\r\n      value = event.target.value.replace(/[^a-zA-Zа-яА-ЯёЁ0-9 ]/, '')\r\n    }\r\n    item[event.target.name] = value\r\n    this.setState(item)\r\n  }\r\n\r\n  clrState(){\r\n    this.setState({name: \"\", price: \"\", quantity: \"\"})\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <div className=\"form\">\r\n        <h2>ADD ITEM TO SHOPPING CART</h2>\r\n        <form>\r\n          <label>\r\n            Name:\r\n            <input \r\n              type=\"text\" \r\n              name=\"name\" \r\n              placeholder=\"Название\" \r\n              value={this.state.name} \r\n              onChange={this.handleChange}>\r\n            </input>\r\n          </label>\r\n\r\n          <label>\r\n            Price:\r\n            <input \r\n              type=\"text\" \r\n              name=\"price\" \r\n              placeholder=\"Цена\" \r\n              value={this.state.price} \r\n              onChange={this.handleChange}>\r\n            </input>\r\n          </label>\r\n\r\n          <label>\r\n            Quantity:\r\n            <input \r\n              type=\"text\" \r\n              name=\"quantity\" \r\n              placeholder=\"Количество\" \r\n              value={this.state.quantity} \r\n              onChange={this.handleChange}>\r\n            </input>\r\n          </label>\r\n\r\n          <input\r\n            type=\"button\" \r\n            value=\"ADD ITEM\" \r\n            onClick={(item) => this.props.addItem(this.state, () => this.clrState())}>\r\n          </input>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nexport default AddItemsForm;","import React, {Component} from 'react'\r\nimport shoppingCartData from './json/shoppingCartData.json'\r\nimport productsImgsData from './json/productsImgs.json'\r\nimport AddItemsForm from './AddItemsForm'\r\nimport './css/ShoppingCart.css'\r\nimport ic_remove from './imgs/remove.png'\r\n\r\nclass ShoppingCart extends Component {\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n      shoppingCartItems: shoppingCartData.cartItems,\r\n      productsImgs: productsImgsData.imgs\r\n    }\r\n    this.addItem = this.addItem.bind(this)\r\n    this.changeQuantity = this.changeQuantity.bind(this)\r\n    this.delItem = this.delItem.bind(this)\r\n  }\r\n\r\n  changeQuantity(bool, index, items){\r\n    if(bool === true){\r\n      this.setState({ShoppingCartItems: items[index].quantity++})\r\n    } else{\r\n      if (this.state.shoppingCartItems[index].quantity > 1) {\r\n        this.setState({ShoppingCartItems: items[index].quantity--})\r\n      }\r\n    }\r\n  }\r\n\r\n  delItem(index, items){\r\n    this.setState({ShoppingCartItems: items.splice(index, 1)})\r\n  }\r\n\r\n  addItem(item, clrState){\r\n    let newItem = item\r\n    let isEmpty = false\r\n    let isDouble = false\r\n    for (let key in newItem){\r\n      if (newItem[key] === \"\"){\r\n        isEmpty = true\r\n      } else {\r\n        this.state.shoppingCartItems.forEach(elem => \r\n          elem.name === newItem.name? isDouble = true : null)\r\n      }\r\n    }\r\n    if (isEmpty === true) {\r\n      alert(\"Не все поля товара заполнены!\")\r\n    } else if (isDouble === true){\r\n      alert(\"Товар с таким названием уже существует!\")\r\n    } else{\r\n      item.img = productsImgsData.imgs[Math.floor(Math.random() * productsImgsData.imgs.length)]\r\n      let newArr = this.state.shoppingCartItems\r\n      newArr.splice(0, 0, newItem)\r\n      this.setState({shoppingCartItems: newArr})\r\n      clrState()\r\n    }\r\n  }\r\n\r\n  drawItem(items, item, index){\r\n    return(\r\n      <tr key={item.name}>\r\n        <td className=\"productImg\"><img src={item.img} alt=\"product img\"/></td>\r\n        <td>{item.name}</td>\r\n        <td>{item.price}</td>\r\n        <td>\r\n          <p className=\"plus\" onClick={() => this.changeQuantity(true, index, items)}>+</p>\r\n          <p>{item.quantity}</p>\r\n          <p className=\"minus\" onClick={() => this.changeQuantity(false, index, items)}>-</p>\r\n        </td>\r\n        <td>{item.price * item.quantity}</td>\r\n        <td>\r\n          <p className=\"del\" onClick={() => this.delItem(index, items)}>\r\n            <img src={ic_remove} alt=\"DELETE\"/>\r\n          </p>\r\n        </td>\r\n      </tr>\r\n    )\r\n  }\r\n\r\n  render(){\r\n    const items = this.state.shoppingCartItems\r\n    let totalPrice = 0\r\n    items.map(item => totalPrice += item.price * item.quantity)\r\n    return(\r\n      <div>\r\n        <h1>КОРЗИНА ПОКУПОК</h1>\r\n        <table>\r\n          <tbody>\r\n            <tr>\r\n              <th>Изображение</th>\r\n              <th>Название</th>\r\n              <th>Цена</th>\r\n              <th>Количество</th>\r\n              <th>Всего</th>\r\n              <th></th>\r\n            </tr>\r\n            {items.length === 0? \r\n              <td colSpan=\"6\" className=\"cart-empty\">Добавьте товары в корзину</td>\r\n              : items.map((item, index) => this.drawItem(items, item, index))}\r\n\r\n            {items.length === 0? null\r\n            :<tr>\r\n              <td colSpan=\"3\"></td>\r\n              <td colSpan=\"3\" className=\"total\">Всего к оплате: {totalPrice}</td>\r\n            </tr>}\r\n          </tbody>\r\n        </table>\r\n        <AddItemsForm addItem={this.addItem}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ShoppingCart","import React from 'react'\nimport ShoppingCart from './ShoppingCart'\n\n\nfunction App() {\n  return (\n    <ShoppingCart />\n  )\n}\n\nexport default App;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './css/index.css'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}